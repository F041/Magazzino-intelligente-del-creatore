{% extends "base.html" %} {% block title %}Ingresso Dati - Magazzino del
Creatore{% endblock %} {% block content %}
<h1>Ingresso dati</h1>
<p>Seleziona il tipo di contenuto da aggiungere o aggiornare.</p>

<div class="accordion-container">
  <!-- Sezione Documenti -->
  <div class="accordion-item">
    <div class="accordion-header">
      <span class="accordion-title"
        ><i class="fas fa-file-alt"></i> Documenti</span
      >
      <i class="fas fa-chevron-down accordion-arrow"></i>
    </div>
    <div class="accordion-content" id="accordion-content-docs">
      <p>Carica file PDF, DOCX, TXT per aggiungerli alla base di conoscenza.</p>
        <p style="color: var(--color-error); font-weight: 500; font-size: 0.9em; margin-top: -10px;">
        <i class="fas fa-exclamation-triangle"></i> ATTENZIONE: Verifica che i documenti NON contengano dati personali sensibili (es. di clienti), ma solo informazioni pubbliche o contatti relativi alla tua organizzazione.
      </p>
      <label for="file-input" class="file-drop-area" id="file-drop-label">
        <span
          >Trascina i file qui oppure <strong>scegli i file...</strong></span
        >
        <input
          type="file"
          id="file-input"
          name="documents"
          multiple
          style="display: none"
        />
      </label>
      <div
        id="selected-file-info"
        style="
          margin-top: 10px;
          font-style: italic;
          color: var(--color-text-light);
        "
      ></div>
      <button
        type="button"
        id="upload-doc-btn"
        class="action-btn"
        style="margin-top: 15px"
        disabled
      >
        Carica Documenti
      </button>
      <div id="doc-upload-status" style="margin-top: 15px"></div>
    </div>
  </div>

  <!-- Sezione Blog -->
  <div class="accordion-item">
    <div class="accordion-header">
      <span class="accordion-title"><i class="fas fa-rss"></i> Blog / RSS</span>
      <i class="fas fa-chevron-down accordion-arrow"></i>
    </div>
    <div class="accordion-content" id="accordion-content-rss">
      <p>
        Inserisci l'URL del feed RSS del tuo blog per indicizzare gli articoli.
      </p>
      <p style="font-size: 1em; font-style: italic">
        Vuoi indicizzare i contenuti di <strong>tutto</strong> il tuo sito
        WordPress in modo automatico?
        <a href="{{ url_for('settings.settings_page') }}#sito-web"
          >Vai alle impostazioni del collegamento a WordPress</a
        >.
      </p>
      <form id="rss-form">
        <label for="rss-url">URL Feed RSS:</label>
        <input
          type="url"
          id="rss-url"
          name="rss_url"
          placeholder="https://esempio.com/feed/"
        />
        <div
          style="
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: var(--spacing-sm);
          "
        >
          <button type="button" id="process-rss-btn" class="action-btn">
            Processa feed
          </button>
          <a
            href="#"
            id="schedule-rss-btn"
            class="action-btn"
            style="display: none; background-color: var(--color-info)"
            data-url=""
            >Pianifica controllo</a
          >
        </div>
      </form>
    </div>
  </div>

  <!-- Sezione Video YouTube -->
  <div class="accordion-item">
    <div class="accordion-header">
      <span class="accordion-title"
        ><i class="fas fa-video"></i> Video YouTube</span
      >
      <i class="fas fa-chevron-down accordion-arrow"></i>
    </div>
    <div class="accordion-content" id="accordion-content-youtube">
      <p>
        Inserisci l'URL del tuo canale YouTube per aggiungere o aggiornare i
        video.
      </p>
      <form id="youtube-form">
        <label for="channel_url">URL Canale YouTube:</label>
        <input
          type="url"
          id="channel_url"
          name="channel_url"
          required
          placeholder="https://www.youtube.com/@tuocanale"
        />
        <div
          style="
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: var(--spacing-sm);
          "
        >
          <button type="submit" id="process-videos-btn" class="action-btn">
            Processa video
          </button>
          <a
            href="#"
            id="schedule-youtube-btn"
            class="action-btn"
            style="display: none; background-color: var(--color-info)"
            data-url=""
            >Pianifica controllo</a
          >
        </div>
      </form>
    </div>
  </div>
</div>
<!-- /accordion-container -->

<div id="process-status" style="margin-top: 25px; display: none">
  <span id="status-message">In attesa...</span>
  <div
    id="progress-bar-container"
    style="
      display: none;
      margin-top: var(--spacing-sm);
      height: 8px;
      background-color: var(--color-border-light);
      border-radius: 4px;
      overflow: hidden;
    "
  >
    <div
      id="progress-bar"
      style="
        width: 0%;
        height: 100%;
        background: var(--gradient-primary);
        transition: width 0.5s ease;
      "
    ></div>
  </div>
</div>
{% endblock %} {% block scripts %} {{ super() }}
<script src="{{ url_for('static', filename='js/data_entry.js') }}"></script>
{% endblock %}
