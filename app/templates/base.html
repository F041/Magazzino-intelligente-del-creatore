<!-- FILE: app/templates/base.html (Versione con blocco stili spostato) -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Magazzino del Creatore{% endblock %}</title>
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">

    <!-- Blocco Jinja per eventuali stili specifici aggiunti dai figli -->
    <!-- Se un figlio definisce questo blocco, DEVE includere i tag <style> al suo interno -->
    {% block head_styles %}{% endblock %}

</head>
<body>
    <div class="sidebar">
        <ul class="sidebar-menu">
            <li class="{{ 'active' if request.endpoint == 'dashboard' else '' }}"><a href="{{ url_for('dashboard') }}"><span>Dashboard</span></a></li>
            <li class="{{ 'active' if request.endpoint == 'my_videos' else '' }}"><a href="{{ url_for('my_videos') }}"><span>I tuoi video</span></a></li>
            <li class="{{ 'active' if request.endpoint == 'my_documents' else '' }}"><a href="{{ url_for('my_documents') }}"><span>I tuoi documenti</span></a></li>
            <li class="{{ 'active' if request.endpoint == 'my_articles' else '' }}"><a href="{{ url_for('my_articles') }}"><span>I tuoi articoli</span></a></li>
            <li class="{{ 'active' if request.endpoint == 'automations_page' else '' }}">
                <a href="{{ url_for('automations_page') }}"><span>Automazioni</span></a>
            </li>
            <li class="{{ 'active' if request.endpoint == 'chat_page' else '' }}"><a href="{{ url_for('chat_page') }}"><span>Chat</span></a></li>
            <li class="{{ 'active' if request.endpoint == 'keys.manage_api_keys_page' else '' }}"><a href="{{ url_for('keys.manage_api_keys_page') }}"><span>Chiavi API</span></a></li>
            
            {# Aggiungi una linea separatrice (opzionale) #}
            <hr style="margin: 10px 20px; border: 0; border-top: 1px solid #eee;">
            {# NUOVO LINK LOGOUT #}
            <li><a href="{{ url_for('logout') }}"><span>Logout</span></a></li>
        </ul>
    </div>

    <div class="main-content">
        {% block content %}{% endblock %}
    </div>

    {% block scripts %}{% endblock %}
</body>
</html>